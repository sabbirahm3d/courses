%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% University/School Laboratory Report
% LaTeX Template
% Version 3.1 (25/3/14)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Linux and Unix Users Group at Virginia Tech Wiki 
% (https://vtluug.org/wiki/Example_LaTeX_chem_lab_report)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[paper=a4, fontsize=11pt]{article}

% packages
\usepackage{fixltx2e}
\usepackage[pdftex]{graphicx}
\usepackage{color, wrapfig}
\usepackage{amsmath}  % required for some math elements 
\usepackage{fancyvrb, listings}  % for code verbatim and console outputs
\usepackage[margin=1in]{geometry}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{black}{rgb}{0,0,0}

\lstset{frame=tb,
    language=R,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=none,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    escapechar={\?}
}

\setlength\parindent{0pt} % removes all indentation from paragraphs

% redefine \VerbatimInput
\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}{
    fontsize=\footnotesize,
    frame=lines,  % top and bottom rule only
    framesep=2em,  % separation between frame and text
    rulecolor=\color{black},
    label=\fbox{\color{black}main.R},
    labelposition=topline,
}

% Make numbering in the enumerate environment by letter rather than number
% \renewcommand{\labelenumi}{\alph{enumi}.}

%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Project 2 \\ STAT 355}  % Title
\author{Sabbir \textsc{Ahmed}}  % Author name
\date{\today}  % Date for the report

\begin{document}

    \maketitle % Insert the title, author and date

    % ------------------------------ Part 1 ------------------------------
    \section{Part 1}
        1000 random samples of size 40 were generated from normal distribution with mean $\mu$ = 3 and standard deviation $\sigma$ = 2.

\begin{lstlisting}
    # initialize parameters for normal distribution
    N <- 40  # size
    mu <- 3  # mean
    sigma <- 2  # standard deviation

    sampMeans <- randDist(N, mu, sigma, "normal", "part1.tex")
    plotHist(sampMeans, "hist1.png", 0.1)
\end{lstlisting}

        \input{part1}

        \subsection{Distribution}
            Distribution of the data was plotted with a histogram using ggplot2 in Figure \ref{fig:hist1}.
\begin{lstlisting}
    ggplot() + aes(sampMeans) + 
        geom_histogram(binwidth=0.1, color="black", fill="white") +
        labs(y="Count", x="Sample Means")
\end{lstlisting}

            \begin{figure}[!h]
                \begin{center}
                    \includegraphics[width=0.5\textwidth]{figures/hist1.png}
                    \caption{Histogram of the Generated Data} \label{fig:hist1}
                \end{center}
            \end{figure}


    % ------------------------------ Part 2 ------------------------------
    \section{Part 2}
        1000 random samples of size 15 were generated from a binomial distribution with n = 10 and standard deviation p = 0.15.

\begin{lstlisting}
    # initialize parameters for binomial distribution
    N <- 15
    n <- 10
    p <- 0.15

    sampMeans <- randDist(N, n, p, "binomial", "part2.tex")
    plotHist(sampMeans, "hist2.png", 0.1)
\end{lstlisting}

        \input{part2}

        \subsection{Distribution}
            Distribution of the data was plotted with a histogram using ggplot2 in Figure \ref{fig:hist2}.
\begin{lstlisting}
    # plot a histogram of the data
    ggplot() + aes(sampMeans) + 
        geom_histogram(binwidth=0.1, color="black", fill="white") +
        labs(y="Count", x="Sample Means")
\end{lstlisting}

            \begin{figure}[h!]
                \begin{center}
                    \includegraphics[width=0.5\textwidth]{figures/hist2.png}
                    \caption{Histogram of the Generated Data} \label{fig:hist2}
                \end{center}
            \end{figure}


    % ------------------------------ Part 3 ------------------------------
    \section{Part 3}
        1000 random samples of size 120 were generated from a binomial distribution with n = 10 and standard deviation p = 0.15.

\begin{lstlisting}
    # initialize parameters for binomial distribution
    N <- 120
    n <- 10
    p <- 0.15

    sampMeans <- randDist(N, n, p, "binomial", "part3.tex")
    plotHist(sampMeans, "hist3.png", 0.025)
\end{lstlisting}

        \input{part3}

        \subsection{Distribution}
            Distribution of the data was plotted with a histogram using ggplot2 in Figure \ref{fig:hist3}.
\begin{lstlisting}
    # plot a histogram of the data
    ggplot() + aes(sampMeans) + 
        geom_histogram(binwidth=0.025, color="black", fill="white") +
        labs(y="Count", x="Sample Means")
\end{lstlisting}

            \begin{figure}[h!]
                \begin{center}
                    \includegraphics[width=0.5\textwidth]{figures/hist3.png}
                    \caption{Histogram of the Generated Data} \label{fig:hist3}
                \end{center}
            \end{figure}


    \section{Conclusion}
    The sample means for the normal and binomial distributions all generated normal distributions. The Part 1 distribution (Figure \ref{fig:hist1}) demonstrates a normal sample mean distribution. The theoretical sample mean and standard deviation appear very close to the computed values.\\


    For the binomial distributions, it can be observed that the distribution with the larger sample size of 150 per random sample yielded sample mean and standard deviation values much closer to their theoretical values. The larger sample size also generated a normal distribution of sample means for the binomial distribution.\\



    The normal distributions generated from the various distributions essentially demonstrated the central limit theorem, which implies a given distribution with a mean $\mu$ and standard deviation $\sigma$, the sampling distribution of the mean approaches a normal distribution with a mean ($E(\overline{X})$) and a standard deviation $\frac{\sigma}{\sqrt{N}}$ as N, the sample size, increases. \cite{wolfram}

    \begin{thebibliography}{9}

        \bibitem{wolfram}
        Central Limit Theorem
        \\\texttt{http://mathworld.wolfram.com/CentralLimitTheorem.html}

    \end{thebibliography}

    \clearpage
    \newpage
    \VerbatimInput{main.R}

\end{document}
